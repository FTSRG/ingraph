% !TeX spellcheck = en_GB
% !TeX encoding = UTF-8
% !TeX program = lualatex
\documentclass{report}

% we have to load xcolor first, see http://tex.stackexchange.com/questions/99049/latex-error-option-clash-for-package-xcolor-even-if-i-put-listings-before
\usepackage[dvipsnames]{xcolor}

\input{../visualization/inputs/relalg-packages}
\input{../visualization/inputs/relalg-commands}
\togglefalse{textualoperators}

%\usepackage[a4paper,top=2cm,bottom=2cm,left=2cm,right=2cm]{geometry}
\usepackage[a4paper,margin=2.5cm]{geometry}
\usepackage{hyperref}

\hypersetup{
	pdfinfo={
		Author={G\'abor Sz\'arnyas, J\'ozsef Marton},
		Title={Formalisation of openCypher Queries in Relational Algebra (Extended Version)}
	}
}

\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{csquotes}
\usepackage{microtype}
\usepackage[math]{blindtext}
\usepackage{url}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{array}
\usepackage{rotate}
\usepackage{enumitem}
\usepackage{todonotes}
\usepackage{adjustbox}
\usepackage{autobreak}
\usepackage{xstring}
\usepackage{progressbar}
\usepackage{lineno}
\usepackage{accsupp}
\usepackage{datetime}
\usepackage{longtable}
%\usepackage{tocstyle} % prevents numbers an titles from overlapping in ToC

\renewcommand{\thelinenumber}{
	\BeginAccSupp{ActualText={}}\arabic{linenumber}\EndAccSupp{}%
}

\pagestyle{fancy}
\fancyhf{}

\renewcommand{\subsectionmark}[1]{\def\subsectiontitle{: #1}}
\fancyhead[L]{\nouppercase{\rightmark}} % \StrLeft{\subsectiontitle}{50}}}
\fancyhead[R]{\thepage}

\input{commands}
\input{listings}

\nonfrenchspacing

\begin{document}

%\input{minimal-sandbox}

\input{titlepage}

\tableofcontents

\input{executive-summary}

\input{foundations}

\input{incremental}

\input{calculating-schemas}

\bibliographystyle{abbrv}
\bibliography{bib}

\IfFileExists{./disable-appendix}{}{
	\appendix
	\input{appendix/chapter-tck}
	\input{appendix/chapter-fraud-detection}
	\input{appendix/chapter-ldbc-snb-simple}
	\input{appendix/chapter-ldbc-snb-interactive}
	\input{appendix/chapter-ldbc-snb-bi}
	\input{appendix/chapter-movie-database}
	\input{appendix/chapter-static-analysis-java}
	\input{appendix/chapter-static-analysis-javascript}
	\input{appendix/chapter-trainbenchmark}
	\input{appendix/chapter-adbis-examples}
	\input{appendix/chapter-railway-verification}
}

\end{document}
