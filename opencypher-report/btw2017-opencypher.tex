% !TeX spellcheck = en_US
% !TeX program = xelatex

%Ensure that all odl school LaTeX habits are remarked
\RequirePackage[l2tabu, orthodox]{nag}
%Neue deutsche Trennmuster
%Siehe http://www.ctan.org/pkg/dehyph-exptl und http://projekte.dante.de/Trennmuster/WebHome
%Nur für pdflatex, nicht für lualatex
%\RequirePackage[ngerman=ngerman-x-latest]{hyphsubst}
%\documentclass{lni}
% in Englisch stattdessen:
\documentclass[english]{lni}

%% Some packages, no need to be adabted

% enable copy and paste of ligatures (e.g., in "workflow" and umlauts)
\usepackage{cmap}

%Überschrift des Literaturverzeichnisses
%Only in German
\iflnienglish
\else
\renewcommand{\refname}{Literaturverzeichnis}
\fi

%Enable input of umlauts using UTF-8.
\usepackage[utf8]{inputenc}

\usepackage{graphicx}
\usepackage{fancyhdr}

%Kopf- und Fußzeileneinstellungen
\fancypagestyle{lnifirstpage}{
% Löscht alle Kopf- und Fußzeileneinstellungen
\fancyhf{}

%Kopfzeile
\fancyhead[RO]{\small Submitted to: BTW 2017%,\linebreak%
}
%Für den Herausgeber:
%\fancyhead[RO]{\small <Vorname Nachname [et. al.]> (Hrsg.): <Buchtitel>,\linebreak%
%Lecture Notes in Informatics (LNI), Gesellschaft für Informatik, Bonn <Jahr> \hspace{5pt} \thepage \hspace{0.05cm}}

%Linie unter Kopfzeile
\renewcommand{\headrulewidth}{0.4pt}
}

% Put in the short title (Kurztitle) here
\fancypagestyle{lni}{
\fancyhf{}
%Zu lange Titel müssen von den HerausgeberInnen gekürzt werden, Vorschläge der AutorInnen dazu sind herzlich willkommen.
\fancyhead[RO]{\small \shorttitle \hspace{5pt}
\thepage \hspace{0.05cm}}
\fancyhead[LE]{\hspace{0.05cm}\small \thepage \hspace{5pt}
%Bis zu drei AutorInnen werden alle angeführt, darüber hinaus wird nur die erste Autorin bzw. der erste Autor angeführt und alle Weiteren mit et al.\ abgekürzt.
%Zu lange AutorInnenlisten müssen von den HerausgeberInnen gekürzt werden.
Gábor Szárnyas and József Marton}
\renewcommand{\headrulewidth}{0.4pt}
}

\iflnienglish
\usepackage[figurename=Fig., tablename=Tab., small]{caption}
\else
\usepackage[figurename=Abb., tablename=Tab., small]{caption}
\fi

\usepackage{xcolor}

\input{listings}
% Listingname heißt nun List.
\renewcommand{\lstlistingname}{List.}

%for easy quotations: \enquote{text}
\usepackage{csquotes}

\usepackage[T1]{fontenc}

%enable margin kerning
\usepackage{microtype}

%for demonstration purposes only
\usepackage[math]{blindtext}

%tweak \url{...}
\usepackage{url}
%nicer // - solution by http://tex.stackexchange.com/a/98470/9075
\makeatletter
\def\Url@twoslashes{\mathchar`\/\@ifnextchar/{\kern-.2em}{}}
\g@addto@macro\UrlSpecials{\do\/{\Url@twoslashes}}
\makeatother
\urlstyle{same}
%improve wrapping of URLs - hint by http://tex.stackexchange.com/a/10419/9075
\makeatletter
\g@addto@macro{\UrlBreaks}{\UrlOrds}
\makeatother

%diagonal lines in a table - http://tex.stackexchange.com/questions/17745/diagonal-lines-in-table-cell
%slashbox is not available in texlive (due to licensing) and also gives bad results. Thus, we use diagbox
%\usepackage{diagbox}

\usepackage{booktabs}
\usepackage{multirow}
\usepackage{array}
\usepackage{rotate}
\usepackage{enumitem}
\usepackage{changes}
\setlist{
	itemsep=-0.25em,
	topsep=-0.3em}

% new packages BEFORE hyperref
% See also http://tex.stackexchange.com/questions/1863/which-packages-should-be-loaded-after-hyperref-instead-of-before

%enable hyperref without colors and without bookmarks
\usepackage[
%pdfauthor={},
%pdfsubject={},
%pdftitle={},
%pdfkeywords={},
bookmarks=false,
breaklinks=true,
%colorlinks=true,
%linkcolor=black,
%citecolor=black,
%urlcolor=black,
pdfpagelayout=SinglePage,
pdfstartview=Fit
]{hyperref}
%enables correct jumping to figures when referencing
\usepackage[all]{hypcap}

%enable nice comments
\usepackage{pdfcomment}
\newcommand{\commentontext}[2]{\colorbox{yellow!60}{#1}\pdfcomment[color={0.234 0.867 0.211},hoffset=-6pt,voffset=10pt,opacity=0.5]{#2}}
\newcommand{\commentatside}[1]{\pdfcomment[color={0.045 0.278 0.643},icon=Note]{#1}}

%compatibality with TODO package
\newcommand{\todo}[1]{\commentatside{#1}}

%enable \cref{...} and \Cref{...} instead of \ref: Type of reference included in the link
\iflnienglish
\usepackage[capitalise,nameinlink]{cleveref}
%Nice formats for \cref
\crefname{section}{Sect.}{Sect.}
\Crefname{section}{Section}{Sections}
\crefname{figure}{Fig.}{Fig.}
\Crefname{figure}{Figure}{Figures}
\else
\usepackage[capitalise,nameinlink]{cleveref}
\fi

%introduce \powerset - hint by http://matheplanet.com/matheplanet/nuke/html/viewtopic.php?topic=136492&post_id=997377
%\DeclareFontFamily{U}{MnSymbolC}{}
%\DeclareSymbolFont{MnSyC}{U}{MnSymbolC}{m}{n}
%\DeclareFontShape{U}{MnSymbolC}{m}{n}{
%    <-6>  MnSymbolC5
%   <6-7>  MnSymbolC6
%   <7-8>  MnSymbolC7
%   <8-9>  MnSymbolC8
%   <9-10> MnSymbolC9
%  <10-12> MnSymbolC10
%  <12->   MnSymbolC12%
%}{}
%\DeclareMathSymbol{\powerset}{\mathord}{MnSyC}{180}

%improve float placement
%source: http://people.cs.uu.nl/piet/floats/node1.html
%see also: http://tex.stackexchange.com/a/35130/9075
\renewcommand{\textfraction}{0.05}
\renewcommand{\topfraction}{0.95}
\renewcommand{\bottomfraction}{0.95}
\renewcommand{\floatpagefraction}{0.35}
\setcounter{totalnumber}{5}

% correct bad hyphenation here
\hyphenation{net-works semi-conduc-tor}

%%% Adapt to your needs from here

%Beginn der Seitenzählung für diesen Beitrag
\setcounter{page}{1}


\input{commands}
\input{../ingraph/visualization/inputs/relalg-commands}

\graphicspath{{./figures/}}

\usepackage{amsmath}
\usepackage{stix}
\usepackage{mathtools}
\usepackage{tikz}
\usepackage{tikz-qtree}
\usetikzlibrary{shapes.gates.logic.US,trees,positioning,arrows}
\tikzset{
	level distance=1.5cm,
	sibling distance=1cm,
	edge from parent path={(\tikzparentnode.south) -- (\tikzchildnode.north)},
	every node/.style={draw},
	every tree node/.style={align=center,anchor=north}
}

\makeatletter
%\renewcommand{\paragraph}{%
%	\@startsection{paragraph}{4}%
%	{\z@}{0.25ex \@plus 1ex \@minus .2ex}{-1em}%
%	{\normalfont\normalsize\bfseries}%
%}
%\renewcommand{\paragraph}{%
%	\@startsection{paragraph}{4}%
%	{\z@}{0ex \@plus 0ex \@minus 0ex}{-1em}%
%	{\normalfont\normalsize\bfseries}%
%}
\renewcommand{\paragraph}[1]{\textbf{#1}}

\makeatother

\sloppy


\author{Gábor Szárnyas\footnote{Budapest University of Technology and Economics, Fault Tolerant Systems Research Group, MTA-BME Lendület Research Group on Cyber-Physical Systems, szarnyas@mit.bme.hu}\,\,\,
József Marton\footnote{Budapest University of Technology and Economics, Database Laboratory, marton@db.bme.hu}}

\newcommand{\shorttitle}{Formalizing \opencypher Graph Queries in Relational Algebra}
\title{Formalizing \opencypher Graph Queries\\ in Relational Algebra}

\begin{document}
\maketitle

%hint by http://tex.stackexchange.com/a/30229/9075 and http://tex.stackexchange.com/a/247652/9075
\thispagestyle{lnifirstpage}
\pagestyle{lni}

%Auf Anzahl der AutorInnen setzen, damit die weitere Nummerierung der Fußnoten passt
%Dieser Befehl \verb|\setcounter{footnote}{2}| legt in dem Fall fest, dass 2 Fußnotennummern bereits für die AutorInnen verbraucht wurden, damit die darauf folgenden Fußnoten mit der richtigen Nummerierung (ab 3) fortfahren. Dieser Wert muss an die jeweilige Zahl an AutorInnen bzw. bereits verbrauchte Fußnoten angepasst werden, sofern im weiteren Verlauf Fußnoten verwendet werden.
\setcounter{footnote}{2}

\begin{abstract}
\input{abstract}
\end{abstract}

%\begin{keywords}
%graph databases, openCypher
%\end{keywords}

\input{introduction}

\input{preliminaries}

\input{opencypher}

\input{compilation}

\input{related-work}

\input{summary}

\input{acknowledgements}

%\clearpage % try to keep the references down to a single page
\bibliography{bib}

%\input{appendix}

\end{document}
