\begin{forest} for tree={align=center}
[
	{$\projection{\var{a1},~\var{r},~\var{b2},~\var{a2}}$
			\\
			\footnotesize
			$\color{gray} \langle \var{a1, r, b2, a2} \rangle$
			}
[
	{$\join$
			\\
			\footnotesize
			$\color{gray} \langle \var{a1, r, \_e59, a2, b2} \rangle$
			}
[
	{$\alldifferent{}$
			\\
			\footnotesize
			$\color{gray} \langle \var{a1, r, \_e59} \rangle$
			}
[
	{$\expandout{a1}{\_e59}{}{r}{}{1}{1}$
			\\
			\footnotesize
			$\color{gray} \langle \var{a1, r, \_e59} \rangle$
			}
[
	{$\getvertices{a1}{}$
			\\
			\footnotesize
			$\color{gray} \langle \var{a1} \rangle$
			},tier=input,for tree={blue,densely dashed}
]
]
]
[
	{$\selection{\var{a1} = \var{a2}}$
			\\
			\footnotesize
			$\color{gray} \langle \var{a2, r, b2} \rangle$
			}
[
	{$\alldifferent{}$
			\\
			\footnotesize
			$\color{gray} \langle \var{a2, r, b2} \rangle$
			}
[
	{$\expandin{a2}{b2}{}{r}{}{1}{1}$
			\\
			\footnotesize
			$\color{gray} \langle \var{a2, r, b2} \rangle$
			}
[
	{$\getvertices{a2}{}$
			\\
			\footnotesize
			$\color{gray} \langle \var{a2} \rangle$
			},tier=input,for tree={blue,densely dashed}
]
]
]
]
]
]
;
\end{forest}
