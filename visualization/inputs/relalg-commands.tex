\newcommand{\lxor}{\oplus}

\newcommand{\asc}{\twoheaduparrow}
\newcommand{\desc}{\twoheaddownarrow}

\newcommand{\tuple}[1]{\langle #1 \rangle}
\newcommand{\concatenation}{\Vert}

\newcommand{\literal}[1]{\mathsf{#1}}
\newcommand{\atom}[1]{\mathsf{#1}}

\newcommand{\var}[1]{\mathtt{#1}}
\newcommand{\edgevariable}[2]{\var{#1}
	\ifstrempty{#2}{}{\colon{\atom{#2}}}}
\newcommand{\nodevariable}[2]{(\var{#1}
	\ifstrempty{#2}{}{\colon{\atom{#2}}})}

% see http://tug.ctan.org/info/symbols/comprehensive/symbols-a4.pdf

% nullary operators

\newcommand{\getverticesop}{\bigcirc}
\newcommand{\getvertices}[2]{\getverticesop_{\nodevariable{#1}{#2}}}

%\newcommand{\getedgesop}{\mathbin{\text{\rotatebox[origin=c]{90}{$\multimapboth$}}}}
\newcommand{\getedgesop}{\Uparrow}
\newcommand{\getedges}[6]{\getedgesop_{\nodevariable{#1}{#2}}^{\nodevariable{#3}{#4}} \left[ \edgevariable{#5}{#6} \right]}
\newcommand{\getedgesi}[4]{\getedgesop_{\nodevariable{#1}{#2}}^{\nodevariable{#3}{#4}}}
\newcommand{\getedgesii}[2]{\edgevariable{#1}{#2}}

%%%%%%%%%% unary operators %%%%%%%%%%
\newcommand{\nagivationbody}[3]{~_{\nodevariable{#1}{}}^{\nodevariable{#2}{#3}}}

\newcommand{\kleenestar}{\,\,\ast}

% expand operators
\newcommand{\expandedgevariable}[4]{
	\left[
	  \edgevariable{#1}{#2}
	  \ifstrequal{#3}{1}{
	  	\ifstrequal{#4}{1}
	  	{} % minHops = 1 and maxHops = 1 -> write nothing
	    {\kleenestar \atom{#3} \ldots \atom{\infty}} % minHops = 1 and maxHops != 1
	  }{
	  {\kleenestar \atom{#3} \ldots \atom{#4}} % minHops != 1
%	    \ifstrequal{#4}{1}
%	    {\ast \atom{#3} \ldots \atom{#4}} % minHops != 1 and maxHops = 1
%	    {\ast \atom{#3} \ldots \atom{#4}} % minHops != 1 and maxHops != 1
	  }
	\right]}

\newcommand{\expandbothop}{\updownarrow}
\newcommand{\expandboth}[7]{\expandbothop \nagivationbody{#1}{#2}{#3} \expandedgevariable{#4}{#5}{#6}{#7} }

\newcommand{\expandoutop}{\uparrow}
\newcommand{\expandout}[7]{\expandoutop \nagivationbody{#1}{#2}{#3} \expandedgevariable{#4}{#5}{#6}{#7} }

\newcommand{\expandinop}{\downarrow}
\newcommand{\expandin}[7]{\expandinop \nagivationbody{#1}{#2}{#3} \expandedgevariable{#4}{#5}{#6}{#7} }

% transitive closure operators
\newcommand{\transitiveclosurebothop}{\oplus \updownarrow}
\newcommand{\transitiveclosureboth}[5]{\transitiveclosurebothop \nagivationbody{#1}{#2}{#3} \left[ \edgevariable{#4}{#5} \right]}

\newcommand{\transitiveclosureoutop}{\oplus \updownarrow}
\newcommand{\transitiveclosureout}[5]{\transitiveclosureoutop \nagivationbody{#1}{#2}{#3} \left[ \edgevariable{#4}{#5} \right]}

\newcommand{\transitiveclosureinop}{\oplus \updownarrow}
\newcommand{\transitiveclosurein}[5]{\transitiveclosureinop \nagivationbody{#1}{#2}{#3} \left[ \edgevariable{#4}{#5} \right]}

%
\newcommand{\alldifferentop}{\not\fallingdotseq}
\newcommand{\alldifferent}[1]{\alldifferentop_{\atom{#1}}}

%
\newcommand{\duplicateeliminationop}{\delta}
\newcommand{\duplicateelimination}{\duplicateeliminationop}

% sort operator
\newcommand{\sortop}{\tau}
\newcommand{\sort}[1]{\sortop_{#1}}

%
\newcommand{\projectionop}{\pi}
\newcommand{\projection}[1]{\projectionop_\atom{#1}}

%
\newcommand{\selectionop}{\sigma}
\newcommand{\selection}[1]{\selectionop_\atom{#1}}

%
\newcommand{\renameop}{\rho}
\newcommand{\rename}[1]{\renameop_\atom{#1}}

%
\newcommand{\groupingop}{\gamma}
\newcommand{\grouping}[1]{\groupingop_\atom{#1}}

% top/skip/limit operators
\newcommand{\topop}{\lambda}
\newcommand{\topp}[2]{\topop_{#1}^{#2}}
\newcommand{\skipp}[1]{\topop^{#1}}
\newcommand{\limit}[1]{\topop_{#1}}

% see A Formal Presentation of MongoDB (Extended Version)
% by Elena Botoeva, Diego Calvanese, Benjamin Cogrel, Martin Rezk, Guohui Xiao
% https://arxiv.org/abs/1603.09291
\newcommand{\unwindop}{\omega}
\newcommand{\unwind}[2]{\unwindop_\atom{#1}^\atom{#2}}

%%%%%%%%%% binary operators %%%%%%%%%%

\newcommand{\joinop}{\bowtie}
\newcommand{\join}{\joinop}

\newcommand{\leftouterjoinop}{\leftouterjoin}
\newcommand{\myleftouterjoin}{\leftouterjoinop}

\newcommand{\antijoinop}{\, \triangleright \,}
\newcommand{\antijoin}{\antijoinop}

\newcommand{\unionop}{\cup}
\newcommand{\union}{\unionop}

\newcommand{\bagunionop}{\uplus}
\newcommand{\bagunion}{\bagunionop}

\newcommand{\minusop}{\setminus}
\newcommand{\minus}{\minusop}

\newcommand{\intersectionop}{\cap}
\newcommand{\intersection}{\intersectionop}

\newcommand{\cartesianproductop}{\times}
\newcommand{\cartesianproduct}{\cartesianproduct}
